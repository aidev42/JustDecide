<ion-view title="Decision Editor" ng-init="initEdit()">
  <ion-nav-buttons side="left">
    <button class="right button button-icon icon ion-arrow-left-c" ng-click="back()"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="left button" ng-click="save()">Save</button>
  </ion-nav-buttons>

  <ion-content>
    <div class="list list-inset">
      <label class="item item-input">
        <span class="input-label">Decision Title</span>
        <input type="text" ng-model="decisionTitle" placeholder="DecisionTitle" ng-value="workingDecision.title"></input>
      </label>

      <ion-item class="item-divider margin-top">New Choice</ion-item>
      <label class="item item-input">
        <span class="input-label">Choice</span>
        <input type="text" ng-model="choiceTitle" placeholder="Description"></input>
      </label>
      <label class="item item-input">
         <span class="input-label">Probability (%)</span>
        <input type="number" ng-model="choiceProbability" placeholder="1-100"></input>
      </label>

      <div class="button-bar">
        <a class="button button-balanced" ng-click="evenProbabilities()">Add</a>
      </div>

      <ion-item class="item-divider margin-top text-center row">
          <div class="col">
            Choice Name
          </div>
          <div class="col col-10">
            %
          </div>
          <div class="col">
            -/+ % Chance
          </div>
      </ion-item>

      <ion-item class="small-rows" ng-repeat="(key,value) in workingDecision.choices">
        <div class="row">
          <div class="col col nowrap col-margin-top" style="vertical-align: middle;">{{key}}
          </div>
          <div class="col col-10 col-less-margin-top">
            <label class="item item-input">
              <input class="probability" type="number" ng-model="choiceProbability" ng-change="onProbChange()" placeholder="0" ng-value="{{value}}"></input>
            </label>
          </div>
          <div class="col">
            <div class="button-bar">
              <a class="button button-light icon ion-ios-minus" ng-click="minusProbability()"></a>
              <a class="button button-light icon ion-ios-plus" ng-click="plusProbability()"></a>
<!--               <a class="button button-light icon ion-trash-b" ng-click="plusProbability()"></a> -->
            </div>
          </div>
        </div>
      </ion-item>

      <ion-item class="small-rows row">
        <div class="col">
          Total
        </div>
        <div id="totalSum">{{workingDecision.totalSum}}</div>
      </ion-item>

      <div class="button-bar">
        <a class="button button-positive" ng-click="evenProbabilities()">All Equal %</a>
        <a class="button button-energized" ng-click="evenProbabilities()">Reset All %</a>
      </div>



    </div>
  </ion-content>



</ion-view>